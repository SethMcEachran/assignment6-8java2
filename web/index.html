<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html>
    <head>
        <title>Assignment 8</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <script src="http://code.jquery.com/jquery.min.js"></script>
        <script>
            var wsUri = "ws://localhost:8080/assignment6-8java2/MessageSocket";
            
            $(document).ready(function () {
                var websocket = new WebSocket(wsUri);
                websocket.onmessage = function (event) {
                    console.log(event);
                };

                function getAll() {

                    var data = {"getAll": true};
                    var json = JSON.stringify(data);

                    websocket.send(json);
                }

                function getById() {

                    var data = {"getById": 5};
                    var json = JSON.stringify(data);

                    websocket.send(json);
                }

                function daySorter() {

                    var data = {"getFromTo": ["2014-01-01", "2018-05-02"]};
                    var json = JSON.stringify(data);

                    websocket.send(json);
                }

                function newMessage() {

                    var message = {
                        "title": "WebSocket Posts",
                        "contents": "Something Works maybe",
                        "author": "Seth R. McEachran",
                        "sentTime": "2017-06-06"
                    };

                    var data =
                            {"post":
                                        {
                                            "id": "10",
                                            "title": "WebSocket Posts",
                                            "contents": "Something Works maybe",
                                            "author": "Seth R. McEachran",
                                            "sentTime": "2017-04-10"
                                        }
                            };
                    var json = JSON.stringify(data);

                    websocket.send(json);
                }

                function editMessage() {

                    var data =
                            {"put":
                                        {
                                            "id": "4",
                                            "title": "WEBSOCKET UPDATE",
                                           "contents": "Update Works maybe",
                                            "author": "Seth R. McEachran",
                                            "sentTime": "2017-04-10"
                                        }
                            };
                    var json = JSON.stringify(data);

                    websocket.send(json);
                }

                function deleteMessage() {

                    var data = {"delete": 2}
                    var json = JSON.stringify(data);

                    websocket.send(json);
                }


                $("#getAll").click(getAll);
                $("#getById").click(getById);
                $("#daySorter").click(daySorter);
                $("#post").click(newMessage);
                $("#put").click(editMessage);
                $("#delete").click(deleteMessage);

            });

        </script>

    </head>
    <body>
        <div>Assignment 8</div>
        <div><button id="getAll">getAll: </button><span></span></div>
        <div><button id="getById">getById: 5</button><span></span></div>
        <div><button id="daySorter">daySorter: </button><span></span></div>
        <div><button id="post">post: </button><span></span></div>
        <div><button id="put">put: </button><span></span></div>
        <div><button id="delete">delete: </button><span></span></div>
    </body>
</html>

